{{ $currentNode := . }}
<div class="h-100 overflow-auto bg-dark text-white pl-0 pt-3" id="sidebar" role="navigation" style="width: 250px;">

    <a class="navbar-brand text-white" href="/">
        <img src="/faveico-32x32.png" alt="" width="32" height="32" class="d-inline-block">
        {{ .Site.Title }}
    </a>
    <hr/>

    {{ if .Site.Params.showSearchBox }}
        <form id="search" class="search" role="search">
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1"><i class="fas fa-search"></i></span>
                <input type="search" id="search-input" class="search-input form-control" placeholder="Search...">
            </div>
        </form>
        <hr/>
    {{ end }}
    
    <!-- Main Menu -->
    <div>    
    {{ template "menu-page-link" dict "pages" .Site.Home.Sections "curNode" $currentNode "padding" 0 }}
    </div>
    <hr/>

    <!-- Custom Menu -->

    



    






        

</div>


<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasLabel">
            <i class="fas fa-search fa-fw"></i>Search Results 
            <small class="text-muted" id="sr-term">BLA</small>
        </h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    
    <div class="offcanvas-body">
        <div class="list-group" id="search-results">
            
        </div>        
    </div>
</div>

<template id="search-result" hidden>
    <a class="list-group-item list-group-item-action sr-link">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1 sr-title"></h5>
            <small class="sr-last-mod">3 days ago</small>
        </div>
        <p class="mb-1 sr-note">Some placeholder content in a paragraph.</p>
    </a>
</template>


{{ define "menu-page-link" }}
    {{ $curNode := .curNode }}

    <div class="ps-{{ .padding }}">
        {{ range .pages.ByWeight }}
            {{ $curLine := false }}
            {{ if ( or (eq .File.UniqueID $curNode.File.UniqueID) ( .IsAncestor $curNode )) }}
                {{ $curLine = true }}
            {{ end }}


            <a href="{{ .Permalink }}" class="text-decoration-none active {{ if $curLine }}link-info{{ else }}link-light{{ end }}">{{ safeHTML .Params.Pre }} {{ .Title }}</a><br/>
            {{ if $curLine }}
                {{/* $numberOfPages := (add (len .Pages) (len .Sections)) */}}
                {{ if gt (len .Pages) 0  }}
                    {{ template "menu-page-link" dict "pages" .Pages "curNode" $curNode "padding" 4 }} 
                {{ end }}
            {{ end }}    
        {{ end }}
    </div>
{{ end }}